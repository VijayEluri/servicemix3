<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:sm="http://servicemix.apache.org/config/1.0" 
	   xmlns:foo="http://servicemix.org/cheese/">

  <!-- the JBI container -->
  <sm:container id="jbi" embedded="true">
    <sm:activationSpecs>

      <!-- START SNIPPET: fixedPropertySet -->
      <sm:activationSpec componentName="mpsFixed" service="foo:mpsFixed">
        <sm:component><bean class="org.apache.servicemix.components.mps.MessagePropertySetterXML">
        	<property name="xmlConfiguration" value="classpath:org/apache/servicemix/components/mps/sample-mps-config.xml"/>
        	<property name="propertySet" value="propertySetOne"/>
        </bean></sm:component>
      </sm:activationSpec>
      <!-- END SNIPPET:  -->


      <!-- START SNIPPET: fixedPropertySet -->
      <sm:activationSpec componentName="mpsXpath" service="foo:mpsXpath">
        <sm:component><bean class="org.apache.servicemix.components.mps.MessagePropertySetterXML">
        	<property name="xmlConfiguration" value="classpath:org/apache/servicemix/components/mps/sample-mps-config.xml"/>
        	<property name="xpathForPropertySet" value="substring-before(/sample[@id=400],' world')"/>
        </bean></sm:component>
      </sm:activationSpec>
      <!-- END SNIPPET:  -->
      
      <!-- START SNIPPET: propsLoadedFromProperty -->
      <sm:activationSpec componentName="mpsJBIPropsPS" service="foo:mpsJBIPropsPS">
        <sm:component><bean class="org.apache.servicemix.components.mps.MessagePropertySetterXML">
        	<property name="xmlConfiguration" value="classpath:org/apache/servicemix/components/mps/sample-mps-config.xml"/>
        </bean></sm:component>
      </sm:activationSpec>
      <!-- END SNIPPET:  -->
      
            
    </sm:activationSpecs>
  </sm:container>

  <bean id="client" class="org.apache.servicemix.client.DefaultServiceMixClient">
    <constructor-arg ref="jbi"/>
  </bean>

  <bean id="workManager" class="org.jencks.factory.WorkManagerFactoryBean"/>
</beans>
