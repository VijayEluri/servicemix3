<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:sm="http://servicemix.apache.org/config/1.0" 
	   xmlns:jsr181="http://servicemix.apache.org/jsr181/1.0"
       xmlns:test="http://test">

  <!-- the JBI container -->
  
  <!-- START SNIPPET: dot -->
  <sm:container id="jbi" embedded="true">
    <sm:listeners>
        <sm:dotViewEndpointListener file="target/ServiceMixComponents.dot"/>
    </sm:listeners>
    
    <sm:activationSpecs>
  <!-- END SNIPPET: dot -->

      <!-- START SNIPPET: lightweight -->  
      <sm:activationSpec>
      	<sm:component>
            <jsr181:component>
            	<jsr181:endpoints>
            		<jsr181:endpoint pojoClass="test.EchoService2"
                                     serviceInterface="test.Echo"
  				   					 annotations="none" />
            	</jsr181:endpoints>
            </jsr181:component>
        </sm:component>
      </sm:activationSpec>
      <!-- END SNIPPET: lightweight -->  

    </sm:activationSpecs>
  </sm:container>
  
  <!-- START SNIPPET: proxy -->
  <jsr181:proxy id="proxy"
                container="#jbi" 
                interfaceName="test:EchoPortType"
                type="test.Echo" />
  <!-- END SNIPPET: proxy -->

</beans>
