<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://xbean.org/schemas/spring/1.0"
	xmlns:spring="http://xbean.org/schemas/spring/1.0"
	xmlns:sm="http://servicemix.org/config/1.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://xbean.org/schemas/spring/1.0 ../../conf/spring-beans.xsd
	                    http://servicemix.org/config/1.0 ../../conf/servicemix.xsd"
    xmlns:foo="http://servicemix.org/demo/">
    
  <!-- the JBI container -->
  <sm:container spring:id="jbi"
  		useMBeanServer="true"
  		createMBeanServer="true"
  		dumpStats="true"
  		statsInterval="10">
  		
  	<sm:activationSpecs>
  	
		<!-- Create a http server binding on port 8912  and have it forward to the foo:stockQuote -->	
  		<sm:activationSpec componentName="httpReceiver" 	
  						   service="foo:httpBinding"
  						   endpoint="httpReceiver"
  						   destinationService="foo:stockQuote">
  		  <sm:component>
  		    <bean xmlns="http://xbean.org/schemas/spring/1.0"
  		          class="org.servicemix.components.http.HttpConnector">
			<property name="host" value="localhost"/>
			<property name="port" value="8912"/>
  		    </bean>
  		  </sm:component>
  		</sm:activationSpec>
  	
		<!-- This just invokes another service -->
  		<sm:activationSpec componentName="stockQuote" 	
  						   service="foo:stockQuote"
  						   endpoint="stockQuote">
  		  <sm:component>
  		    <bean xmlns="http://xbean.org/schemas/spring/1.0"
  		          class="org.servicemix.components.saaj.SaajBinding">
			<property name="soapEndpoint">
				<bean class="javax.xml.messaging.URLEndpoint">
					<constructor-arg value="http://64.124.140.30/soap"/>
				</bean>
			</property>
  		    </bean>
  		  </sm:component>
  		</sm:activationSpec>
  		
  	</sm:activationSpecs>
  </sm:container>
  
</beans>
